{
  "version": 3,
  "sources": ["../src/app/Calculation.ts", "../src/lib/$.ts", "../src/ui/table.ts", "../src/main.ts"],
  "sourcesContent": ["export class Calculation {\r\n  private result = 0;\r\n  private operater = \"\";\r\n\r\n  get() {\r\n    return this.result;\r\n  }\r\n\r\n  setOperater(operater: string) {\r\n    this.operater = operater;\r\n  }\r\n  getOperater() {\r\n    return this.operater;\r\n  }\r\n\r\n  clear() {\r\n    this.result = 0;\r\n    return this.result;\r\n  }\r\n\r\n  add(a: number) {\r\n    this.result = this.result + a;\r\n    return this.result;\r\n  }\r\n  sub(a: number) {\r\n    if (this.result === 0) {\r\n      this.result = a;\r\n      return;\r\n    }\r\n    this.result = this.result - a;\r\n    return this.result;\r\n  }\r\n\r\n  mul(a: number) {\r\n    if (this.result === 0) {\r\n      this.result = a;\r\n      return;\r\n    }\r\n    this.result = this.result * a;\r\n    return this.result;\r\n  }\r\n\r\n  div(a: number) {\r\n    if (this.result === 0) {\r\n      this.result = a;\r\n      return;\r\n    }\r\n    this.result = this.result / a;\r\n    return this.result;\r\n  }\r\n}\r\n", "export function $(id: string): HTMLElement | null {\r\n  const dom = document.getElementById(id);\r\n  return dom;\r\n}\r\n", "import { $ } from \"../lib/$.js\";\r\nexport function createTable() {\r\n  const main: HTMLElement | null = $(\"container\");\r\n  if (main === null) {\r\n    console.error(\"main is null\");\r\n    return;\r\n  }\r\n\r\n  const table = document.createElement(\"table\");\r\n  table.id = \"calcTable\";\r\n  main.append(table);\r\n  const tbody = document.createElement(\"tbody\");\r\n  tbody.id = \"calc\";\r\n  table.append(tbody);\r\n\r\n  let num = [\"+\", \"=\", \"\", 0, \"-\", 3, 2, 1, \"*\", 6, 5, 4, \"/\", 9, 8, 7];\r\n\r\n  for (let i = 0; i <= 3; i++) {\r\n    const tr = document.createElement(\"tr\");\r\n    for (let j = 0; j <= 3; j++) {\r\n      const td = document.createElement(\"td\");\r\n      const data = num.pop();\r\n      if (typeof data === \"string\") {\r\n        td.textContent = String(data);\r\n        td.id = `${String(data)}`;\r\n        tr.append(td);\r\n      } else {\r\n        td.textContent = String(data);\r\n        td.id = `num-${String(data)}`;\r\n        tr.append(td);\r\n      }\r\n    }\r\n    tbody.append(tr);\r\n  }\r\n}\r\n", "import { Calculation } from \"./app/Calculation.js\";\r\nimport { createTable } from \"./ui/table.js\";\r\n\r\nexport function setupEvents(calc: Calculation) {\r\n  const $ = (id: string) => document.getElementById(id);\r\n  const arg = $(\"arg\");\r\n  const answer = $(\"answer\");\r\n\r\n  for (let i = 0; i <= 9; i++) {\r\n    const btn = $(`num-${i}`);\r\n    // \u96FB\u5353\u3067\u6570\u5B57\u3092\u4E26\u3079\u3066\u3044\u308B\u30ED\u30B8\u30C3\u30AF\r\n    btn?.addEventListener(\"click\", () => {\r\n      if (arg instanceof HTMLInputElement) {\r\n        arg.value = arg.value + String(i);\r\n      }\r\n    });\r\n  }\r\n  const mul = [\"+\", \"-\", \"*\", \"/\", \"=\", \".\"];\r\n  for (const item of mul) {\r\n    const btn = $(`${item}`);\r\n    btn?.addEventListener(\"click\", () => {\r\n      if (arg instanceof HTMLInputElement) {\r\n        if (item === \"+\") {\r\n          const number = arg.value;\r\n          calc.add(Number(number));\r\n          calc.setOperater(\"+\");\r\n          arg.value = \"\";\r\n        } else if (item === \"-\") {\r\n          const number = arg.value;\r\n          calc.sub(Number(number));\r\n          calc.setOperater(\"-\");\r\n          arg.value = \"\";\r\n        } else if (item === \"*\") {\r\n          const number = arg.value;\r\n          calc.mul(Number(number));\r\n          calc.setOperater(\"*\");\r\n          arg.value = \"\";\r\n        } else if (item === \"/\") {\r\n          const number = arg.value;\r\n          calc.div(Number(number));\r\n          calc.setOperater(\"/\");\r\n          arg.value = \"\";\r\n        } else if (item === \"=\") {\r\n          if (answer && arg instanceof HTMLInputElement) {\r\n            if (calc.getOperater() === \"+\") {\r\n              const number = Number(arg?.value);\r\n              answer.textContent = String(calc.get() + number);\r\n              calc.clear();\r\n              calc.setOperater(\"\");\r\n              arg.value = \"\";\r\n            } else if (calc.getOperater() === \"-\") {\r\n              const number = Number(arg?.value);\r\n              answer.textContent = String(calc.sub(number));\r\n              calc.clear();\r\n              calc.setOperater(\"\");\r\n              arg.value = \"\";\r\n            } else if (calc.getOperater() === \"*\") {\r\n              const number = Number(arg?.value);\r\n              answer.textContent = String(calc.mul(number));\r\n              calc.clear();\r\n              calc.setOperater(\"\");\r\n              arg.value = \"\";\r\n            } else if (calc.getOperater() === \"/\") {\r\n              const number = Number(arg?.value);\r\n              answer.textContent = String(calc.div(number));\r\n              calc.clear();\r\n              calc.setOperater(\"\");\r\n              arg.value = \"\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    answer,\r\n  };\r\n}\r\n\r\nfunction main() {\r\n  const calc = new Calculation();\r\n  createTable();\r\n  setupEvents(calc);\r\n}\r\n\r\nmain();\r\n"],
  "mappings": "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",
  "names": ["main", "$"]
}
